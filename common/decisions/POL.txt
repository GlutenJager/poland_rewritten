POL_defensive_plans = {
	POL_defend_in_east_state = {

		icon = hol_draw_up_staff_plans

		state_target = any_controlled_state
		target_root_trigger = {
			has_completed_focus = POL_local_eastern_plans
			has_war_with = SOV
			num_of_controlled_states > 0
		}
		available = {
			FROM = {
				OR = {
					AND = {
						is_controlled_by = POL
						any_neighbor_state = {
							is_controlled_by = SOV
						}
					}
					AND = {
						is_controlled_by = SOV
						any_neighbor_state = {
							is_controlled_by = POL
						}
					}
				}
			}
			has_war_with = SOV
		}
		target_trigger = {
			FROM = {
				OR = {
					AND = {
						is_controlled_by = POL
						any_neighbor_state = {
							is_controlled_by = SOV
						}
					}
					AND = {
						is_controlled_by = SOV
						any_neighbor_state = {
							is_controlled_by = POL
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = POL_local_eastern_plans
		}

		fire_only_once = no
		cost = 50

		days_re_enable = 60
		on_map_mode = map_only
		complete_effect = {
			FROM = { 
				add_dynamic_modifier = {
					modifier = POL_anti_soviet_offensive
					days = 60
					scope = POL
				}
			}
		}

		ai_will_do = {
			base = 0
		}
	}
	POL_defend_in_west_state = {

		icon = hol_draw_up_staff_plans

		state_target = any_controlled_state

		available = {
			FROM = {
				OR = {
					AND = {
						is_controlled_by = POL
						any_neighbor_state = {
							is_controlled_by = GER
						}
					}
					AND = {
						is_controlled_by = GER
						any_neighbor_state = {
							is_controlled_by = POL
						}
					}
				}
			}
			has_war_with = GER
		}
		target_trigger = {
			FROM = {
				OR = {
					AND = {
						is_controlled_by = POL
						any_neighbor_state = {
							is_controlled_by = GER
						}
					}
					AND = {
						is_controlled_by = GER
						any_neighbor_state = {
							is_controlled_by = POL
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = POL_local_western_plans
		}

		fire_only_once = no
		cost = 50

		days_re_enable = 60
		on_map_mode = map_only
		complete_effect = {
			FROM = { 
				add_dynamic_modifier = {
					modifier = POL_anti_german_offensive
					days = 60
					scope = POL
				}
			}
		}

		ai_will_do = {
			base = 10
		}
	}
}

POL_civil_war_decisions = {
	POL_german_action = { #event
		icon = infiltrate_state

		allowed = { tag = POL }

		available = {
			hidden_trigger = {
				always = no
			}
		}

		days_mission_timeout = 15
		is_good = no
		fire_only_once = yes

		activation = {
			always = no
		}

		cancel_trigger = {
			has_civil_war = no
		}

		visible = {
			has_civil_war = yes
		}

		timeout_effect = {
			hidden_effect = {
				news_event = {
				id = PLREW_world_news.5
			}
				GER = {
					set_state_owner = 807
					set_state_owner = 86
					set_state_owner = 1018
					set_state_owner = 1017

					set_state_controller = 807
					set_state_controller = 86
					set_state_controller = 1018
					set_state_controller = 1017

					puppet = DNZ
				}
				DNZ = {
					set_cosmetic_tag = DNZ_reichsprotektorat
				}
			}

		}
	}
	POL_lithuanian_action = { #event
		icon = infiltrate_state

		allowed = { tag = POL }

		available = {
			hidden_trigger = {
				always = no
			}
		}

		days_mission_timeout = 60
		is_good = no
		fire_only_once = yes

		activation = {
			always = no
		}

		cancel_trigger = {
			has_civil_war = no
		}

		visible = {
			has_civil_war = yes
		}

		timeout_effect = {
			
			hidden_effect = {
				news_event = {
				id = PLREW_world_news.4
			}
				LIT = {
					set_state_owner = 784
					set_state_controller = 784
					set_capital = {
						state = 784
					}
				}
			}

		}
	}
	POL_ukrainian_action = { #event
		icon = infiltrate_state

		allowed = { tag = POL }

		available = {
			hidden_trigger = {
				always = no
			}
		}

		days_mission_timeout = 80
		is_good = no
		fire_only_once = yes

		activation = {
			always = no
		}

		cancel_trigger = {
			has_civil_war = no
		}

		visible = {
			has_civil_war = yes
		}

		timeout_effect = {
			hidden_effect = {
				news_event = {
				id = PLREW_world_news.6
			}
				UKR = {
                    set_state_owner = 91
                    set_state_owner = 89

                    set_state_controller = 91
                    set_state_controller = 89

					set_cosmetic_tag = UKR_UPA
					declare_war_on = {
						target = PSX
					}
					declare_war_on = {
						target = POL
					}
                    set_politics = { ruling_party = fascism }
                    add_popularity = {
                        ideology = fascism
                        popularity = 1
                    }
                    add_popularity = {
                        ideology = communism
                        popularity = 0.2
                    }
					division_template = {
						name = "Ukraińska Powstańcza Armia"
						priority = 1
						division_names_group = UKR_INF_01
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
				
		    	   		 	infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
							
							infantry = { x = 2 y = 0 }
							infantry = { x = 2 y = 1 }
							
						}
						support = {
							recon = { x = 0 y = 0 }
						}
					}
					random_owned_controlled_state = {
						prioritize = { 89 }
						create_unit = {
							division = "name = \"Ukraińska Powstańcza Armia\" division_template = \"Ukraińska Powstańcza Armia\" start_experience_factor = 1.0" 
							owner = UKR
						}
						create_unit = {
							division = "name = \"Ukraińska Powstańcza Armia\" division_template = \"Ukraińska Powstańcza Armia\" start_experience_factor = 1.0" 
							owner = UKR
						}
						create_unit = {
							division = "name = \"Ukraińska Powstańcza Armia\" division_template = \"Ukraińska Powstańcza Armia\" start_experience_factor = 1.0" 
							owner = UKR
						}
						create_unit = {
							division = "name = \"Ukraińska Powstańcza Armia\" division_template = \"Ukraińska Powstańcza Armia\" start_experience_factor = 1.0" 
							owner = UKR
						}
						create_unit = {
							division = "name = \"Ukraińska Powstańcza Armia\" division_template = \"Ukraińska Powstańcza Armia\" start_experience_factor = 1.0" 
							owner = UKR
						}
						create_unit = {
							division = "name = \"Ukraińska Powstańcza Armia\" division_template = \"Ukraińska Powstańcza Armia\" start_experience_factor = 1.0" 
							owner = UKR
						}
						create_unit = {
							division = "name = \"Ukraińska Powstańcza Armia\" division_template = \"Ukraińska Powstańcza Armia\" start_experience_factor = 1.0" 
							owner = UKR
						}
						create_unit = {
							division = "name = \"Ukraińska Powstańcza Armia\" division_template = \"Ukraińska Powstańcza Armia\" start_experience_factor = 1.0" 
							owner = UKR
						}
					}
				}
                
				every_country = {
					limit = {
						original_tag = POL
					}
					declare_war_on = {
						target = UKR
					}
				}
			}

		}
	}
	POL_raid_arms_depot = {

		icon = GFX_decision_oppression

		available = {
			has_civil_war = yes
		}

		cost = 25
		fire_only_once = no
		days_remove = 15
		ai_will_do = {
			factor = 2
		}
		complete_effect = {
			add_stability = -0.01
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 1000
				producer = POL
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 10
				producer = POL
			}
		}
	}
}

POL_pis_polityka_zagraniczna = {
	# DO NAPRAWY ALE ZACZYNA DZILAC#
    
    POL_oddac_wegrom_slowacje = { # decyzja o oddaniu Węgrom Słowacji (stan 69)

        icon = decision_generic_nationalism

        available = {
            has_completed_focus = POL_polak_wegier_2_bratanki
            controls_state = 69              # Bratysława (Słowacja)
            is_in_faction_with = HUN          # Czechosłowacja nie może istnieć
            HUN = {
                exists = yes
            }
        }

        visible = {
            has_completed_focus = POL_polak_wegier_2_bratanki
        }

        fire_only_once = yes
        days_remove = 1
        
        cost = 20

        ai_will_do = {
            factor = 1
        }

        complete_effect = {
            transfer_state = 69              # oddajemy stan
            HUN = {
                add_state_core = 69          # Węgry zyskują core
            }
        }
    }
}